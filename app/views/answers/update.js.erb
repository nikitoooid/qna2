document.querySelector('.answer-errors').innerHTML = "<%= render "shared/errors", resource: @answer %>"

<% unless @answer.errors.present? %>
  document.querySelector(`.answer[data-id="<%= @answer.id %>"] .answer-body`).innerHTML = "<%= j @answer.body %>"
  let files = document.querySelector(`.answer[data-id="<%= @answer.id %>"] .answer-files`)
  let links = document.querySelector(`.answer[data-id="<%= @answer.id %>"] .answer-links`)

  <% if @answer.files.attached? %>
    files.innerHTML = ""
    files.insertAdjacentHTML( 'beforeend', "<%= j render @answer.files %>")
  <%end%>

  <% if @answer.links.any? %>
    links.innerHTML = ""
    links.insertAdjacentHTML( 'beforeend', "<%= j render @answer.links %>")
  <%end%>

  document.querySelector(`.answer[data-id="<%= @answer.id %>"] .edit-answer-link`).classList.remove('hidden')
  document.querySelector(`#edit-answer-<%= @answer.id %>`).classList.add('hidden')
<% end %>